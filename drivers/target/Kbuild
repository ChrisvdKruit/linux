EXTRA_CFLAGS += -I$(srctree)/drivers/target/ -I$(srctree)/drivers/scsi/

target_core_mod-y		:= target_core_configfs.o \
				   target_core_device.o \
				   target_core_fabric_configfs.o \
				   target_core_fabric_lib.o \
				   target_core_hba.o \
				   target_core_plugin.o \
				   target_core_pr.o \
				   target_core_alua.o \
				   target_core_scdb.o \
				   target_core_seobj.o \
				   target_core_tmr.o \
				   target_core_tpg.o \
				   target_core_transport.o \
				   target_core_ua.o \
				   target_core_iblock.o \
				   target_core_pscsi.o \
				   target_core_file.o \
				   target_core_rd.o \
				   target_core_stgt.o \
				   target_core_mib.o

ifdef CONFIG_TCM_PSCSI_VPD_PAGE_CHECK
EXTRA_CFLAGS			+= -DLINUX_VPD_PAGE_CHECK
endif

ifdef CONFIG_TCM_DEBUG_DEV
EXTRA_CFLAGS			+= -DDEBUG_DEV
endif

obj-$(CONFIG_TARGET_CORE)	+= target_core_mod.o

obj-$(CONFIG_LIO_TARGET)	+= lio-target/
obj-$(CONFIG_TCM_LOOP_FABRIC)	+= tcm_loop/

obj-$(CONFIG_TCM_FC)		+= tcm_fc/

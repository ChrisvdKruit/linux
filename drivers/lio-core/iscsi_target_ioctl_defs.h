/*********************************************************************************
 * Filename:  iscsi_target_ioctl_defs.h 
 *
 * $HeadURL: svn://subversion.sbei.com/pyx/target/branches/2.9-linux-iscsi.org/pyx-target/include/iscsi_target_ioctl_defs.h $
 *   $LastChangedRevision: 7154 $
 *   $LastChangedBy: nab $
 *   $LastChangedDate: 2007-08-28 17:14:52 -0700 (Tue, 28 Aug 2007) $
 *
 * Copyright (c) 2003, 2004, 2005 PyX Technologies, Inc.
 * Copyright (c) 2005-2007 SBE, Inc.  All Rights Reserved.
 *
 *   This program is distributed in the hope that it will be useful,
 *   but WITHOUT ANY WARRANTY; without even the implied warranty of
 *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 *
 * For further information, contact via email: support@sbei.com
 * SBE, Inc.  San Ramon, California  U.S.A.
 *********************************************************************************/


#ifndef ISCSI_TARGET_IOCTL_DEFS_H
#define ISCSI_TARGET_IOCTL_DEFS_H

#include <linux/ioctl.h>

#include <iscsi_ipyxd.h>

#define PARAM_NET_IPV4_ADDRESS		0x00000001
#define PARAM_NET_IPV4_EX_ADDRESS	0x00000002
#define PARAM_NET_IPV6_ADDRESS		0x00000004
#define PARAM_NET_IPV6_EX_ADDRESS	0x00000008
#define PARAM_NET_PORT			0x00000010
#define PARAM_NET_PORT_EX		0x00000020
#define PARAM_NET_SCTP_TCP		0x00000040
#define PARAM_NET_SCTP_UDP		0x00000080

#define PARAM_NETWORK_DEVICE		0x00000001
#define PARAM_SESSION_ID		0x00000002
#define PARAM_CONNECTION_ID		0x00000004
#define PARAM_ISCSI_LUN			0x00000008
#define PARAM_INITIATORNAME		0x00000010
#define PARAM_TPGT			0x00000020
#define PARAM_HBA_TYPE			0x00000040
#define PARAM_QUEUE_DEPTH		0x00000080
#define PARAM_ISCSI_PARAMETER		0x00000100
#define PARAM_TARGETNAME		0x00000200
#define PARAM_DEBUGERL_TYPE		0x00000400
#define PARAM_FORCE			0x00000800
#define PARAM_HBA_ID			0x00001000
#define PARAM_INTERNAL_DMA_ALLOC	0x00002000
#define PARAM_RAID_ID			0x00004000
#define PARAM_RAID_TYPE			0x00008000
#define PARAM_RAID_DEVICES		0x00010000
#define PARAM_RAID_DEV			0x00020000
#define PARAM_RAID_CHUNKSIZE		0x00040000
#define PARAM_VOL_ID			0x00080000
#define PARAM_SECTORS			0x00100000
#define PARAM_MAPPED_LUN		0x00200000
#define PARAM_LUN_ACCESS		0x00400000
#define PARAM_UU_ID      		0x00800000
#define PARAM_EVPD_UNIT_SERIAL		0x01000000
#define PARAM_EVPD_DEVICE_IDENT		0x02000000
#define PARAM_LVM_UUID			0x04000000
#define PARAM_UDEV_PATH			0x08000000

#define PARAM_HBA_SCSI_HOST_ID		0x00000001
#define PARAM_HBA_SCSI_CHANNEL_ID	0x00000002
#define PARAM_HBA_SCSI_TARGET_ID	0x00000004
#define PARAM_HBA_SCSI_LUN_ID		0x00000008
#define PARAM_HBA_PATA_IF_ID		0x00000010
#define PARAM_HBA_PATA_PRIMARY		0x00000020
#define PARAM_HBA_IBLOCK_HOST_ID	0x00000040
#define PARAM_HBA_IBLOCK_MAJOR		0x00000080
#define PARAM_HBA_IBLOCK_MINOR		0x00000100
#define PARAM_HBA_RD_HOST_ID		0x00000200
#define PARAM_HBA_RD_DEVICE_ID		0x00000400
#define PARAM_HBA_RD_DIRECT		0x00000800
#define PARAM_HBA_RD_PAGES		0x00001000
#define PARAM_HBA_FD_HOST_ID		0x00002000
#define PARAM_HBA_FD_FILE		0x00004000
#define PARAM_HBA_FD_SIZE		0x00008000
#define PARAM_HBA_FD_DEVICE_ID		0x00010000
#define PARAM_HBA_VT_HOST_ID		0x00020000
#define PARAM_HBA_VT_DEVICE_ID		0x00040000
#define PARAM_HBA_VT_HW_ID		0x00080000
#define PARAM_HBA_MC_HOST_ID		0x00100000
#define PARAM_HBA_MC_DEVICE_ID		0x00200000
#define PARAM_HBA_MC_HW_ID		0x00400000
#define PARAM_HBA_ISCSI_CHANNEL_ID	0x00800000   /* T/Initiator support */
#define PARAM_HBA_OS_CLAIM_DEVICES	0x01000000   /* T/Initiator support */

#define PARAM_NA_DATAOUT_TIMEOUT	0x00000001
#define PARAM_NA_DATAOUT_TIMEOUT_RETRIES 0x00000002
#define PARAM_NA_NOPIN_TIMEOUT		0x00000004
#define PARAM_NA_NOPIN_RESPONSE_TIMEOUT	0x00000008
#define PARAM_NA_RANDOM_DATAIN_PDU_OFFSETS 0x00000010
#define PARAM_NA_RANDOM_DATAIN_SEQ_OFFSETS 0x00000020
#define PARAM_NA_RANDOM_R2T_OFFSETS	0x00000040
#define PARAM_NA_DEFAULT_ERL		0x00000080

#define PARAM_TA_AUTHENTICATION		0x00000001
#define PARAM_TA_LOGIN_TIMEOUT		0x00000002
#define PARAM_TA_NETIF_TIMEOUT		0x00000004
#define PARAM_TA_DEFAULT_QUEUE_DEPTH	0x00000008
#define PARAM_TA_GENERATE_NODE_ACLS	0x00000010
#define PARAM_TA_CACHE_DYNAMIC_ACLS	0x00000020
#define PARAM_TA_DEMO_MODE_LUN_ACCESS	0x00000040

#define PARAM_SNAP_TIME			0x00000001
#define PARAM_SNAP_NICE			0x00000002
#define PARAM_SNAP_CLEANUP_POLICY	0x00000004
#define PARAM_SNAP_DATA_SECTORS		0x00000008
#define PARAM_SNAP_SNAP_SECTORS		0x00000010
#define PARAM_SNAP_MAX_TRANS_UPDATE	0x00000020
#define PARAM_SNAP_UPDATE_INTERVAL	0x00000040
#define PARAM_SNAP_REINIT		0x00000080

/* Used to set Initiator Node Attributes */
#define NA_SET_DATAOUT_TIMEOUT		1
#define NA_SET_DATAOUT_TIMEOUT_RETRIES	2
#define NA_SET_NOPIN_TIMEOUT		3
#define NA_SET_NOPIN_RESPONSE_TIMEOUT	4
#define NA_SET_RANDOM_DATAIN_PDU_OFFSETS 5
#define NA_SET_RANDOM_DATAIN_SEQ_OFFSETS 6
#define NA_SET_RANDOM_R2T_OFFSETS	7
#define NA_SET_DEFAULT_ERL		8

/* Used to set TPG Attributes */
#define TA_SET_AUTHENTICATION		1
#define TA_SET_LOGIN_TIMEOUT		2
#define TA_SET_NETIF_TIMEOUT		3
#define TA_SET_DEFAULT_QUEUE_DEPTH	4
#define TA_SET_GENERATE_NODE_ACLS	5
#define TA_SET_CACHE_DYNAMIC_ACLS	6
#define TA_SET_DEMO_MODE_LUN_ACCESS	7

/* Used for copying data buffers */
#define INFO_ERROR			-1
#define INFO_DONE			0
#define INFO_GET_OUT_COUNT		1
#define INFO_GOT_OUT_COUNT		2
#define INFO_GOT_MORE_DATA		3

#define ISCSI_ENUM_BASE				0xE0000000

typedef enum {
	ISCSI_TARGET_FIRST_IOCTL	= _IO('z',0x11),
	ISCSI_TARGET_NULL		= ISCSI_TARGET_FIRST_IOCTL,
	ISCSI_TARGET_LOGOUT_SESS	,
	ISCSI_TARGET_LISTTPGPARAMS	,
	ISCSI_TARGET_LISTSESSPARAMS	,
	ISCSI_TARGET_SETTARGETNAME	,
	ISCSI_TARGET_SETTPGPARAM	,
	ISCSI_TARGET_SETSESSPARAM	,
	ISCSI_TARGET_ADDTPG		,
	ISCSI_TARGET_DELTPG		,
	ISCSI_TARGET_ENABLETPG		,
	ISCSI_TARGET_DISABLETPG		,
	ISCSI_TARGET_SETTPGATTRIB	,
	ISCSI_TARGET_LISTTPGATTRIB	,
	ISCSI_TARGET_ADDNPTOTPG		,
	ISCSI_TARGET_DELNPFROMTPG	,
	ISCSI_TARGET_ADDHBATOTPG	,
	ISCSI_TARGET_DELHBAFROMTPG	,
	ISCSI_TARGET_ADDHBATOTARGET	,
	ISCSI_TARGET_DELHBAFROMTARGET	,
	ISCSI_TARGET_ADDNODETOTPG	,
	ISCSI_TARGET_DELNODEFROMTPG	,
	ISCSI_TARGET_SETNODEQUEUEDEPTH	,
	ISCSI_TARGET_CREATEVIRTDEV	,
	ISCSI_TARGET_FREEVIRTDEV	,
	ISCSI_TARGET_ADDLUNTODEV	, /* se_lun_t -> se_device_t */
	ISCSI_TARGET_DELLUNFROMDEV	,
	ISCSI_TARGET_ADDNODETOLUN	,
	ISCSI_TARGET_DELNODEFROMLUN	,
	ISCSI_TARGET_SETNODEATTRIB	,
	ISCSI_TARGET_LISTNODEATTRIB	,
	ISCSI_TARGET_DEBUG_ERL		,
	ISCSI_TARGET_CHECK_KEY		,
	ISCSI_TARGET_LUN_INFO		,
	ISCSI_TARGET_GLOBAL_HBA_INFO	,
	ISCSI_TARGET_GLOBAL_RAID_INFO	,
	ISCSI_TARGET_RAID_INFO		,
	ISCSI_TARGET_SESS_INFO		,
	ISCSI_TARGET_GLOBAL_TPG_INFO	,
	ISCSI_TARGET_TPG_INFO		,
	ISCSI_TARGET_EEPROM_DATA	,
	ISCSI_TARGET_RAID_INIT		,
	ISCSI_TARGET_RAID_CREATE	,
	ISCSI_TARGET_RAID_ADDDEV	,
	ISCSI_TARGET_RAID_DELDEV	,
	ISCSI_TARGET_RAID_CREATEVOL	,
	ISCSI_TARGET_RAID_DELVOL	,
	ISCSI_TARGET_RAID_START		,
	ISCSI_TARGET_RAID_STOP		,
	ISCSI_TARGET_RAID_RELEASE	,
	ISCSI_TARGET_ADDLUNTORAID	,
	ISCSI_TARGET_DELLUNFROMRAID	,
	ISCSI_TARGET_HBA_DEV_INFO	,
	ISCSI_TARGET_PLUGIN_INFO	,
	ISCSI_TARGET_DEBUG_DEV		,
	ISCSI_TARGET_PSCSI_MOUNT_STATUS	,

	ISCSI_TARGET_GLOBAL_SIG_INFO	,
	ISCSI_TARGET_SIG_INFO		,
	ISCSI_TARGET_SIG_DUMP_INFO	,
	ISCSI_TARGET_SIG_WRITE		,

	ISCSI_TARGET_REPL_REQ_CREATE	,
	ISCSI_TARGET_REPL_REQ_ALLOW     ,
	ISCSI_TARGET_REPL_REQ_DISALLOW  ,
	ISCSI_TARGET_REPL_REQ_REMOVE	,

	ISCSI_TARGET_GLOBAL_REPL_INFO	,
	ISCSI_TARGET_REPL_INFO		,
	ISCSI_TARGET_REPL_ALLOW		,
	ISCSI_TARGET_REPL_DISALLOW	,
	ISCSI_TARGET_REPL_TAKE		,

	ISCSI_TARGET_SETLUNACCESS	,
	ISCSI_TARGET_BLOCKDEV_CHECK	,
	ISCSI_TARGET_BLOCKDEV_CLAIM	,
	ISCSI_TARGET_BLOCKDEV_RELEASE	,
	ISCSI_TARGET_SHUTDOWN		,
	ISCSI_TARGET_ADDTIQN		,
	ISCSI_TARGET_DELTIQN		,
	ISCSI_TARGET_LISTGNINFO		,
	ISCSI_TARGET_LISTGNPINFO	,
	ISCSI_TARGET_ADDNPTOCORE	,
	ISCSI_TARGET_DELNPFROMCORE	,
	ISCSI_TARGET_SETNPATTRIB	,
	ISCSI_TARGET_LISTNPATTRIB	,
	ISCSI_TARGET_LISTGHBADEVINFO	,
	
	// KEEP IT LAST!!!
	
	ISCSI_TARGET_LAST_IOCTL
} ISCSI_CMD_CTL;

#endif   /*** ISCSI_TARGET_IOCTL_DEFS_H ***/
